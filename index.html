<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Game with Ad Block & Cookies Allowed</title>

<style>
  /* Hide ad containers by default to avoid flicker */
  #eaglercraft_com_leaderboard_responsive_top,
  #eaglercraft_com_sticky_anchorad_responsive,
  #eaglercraft_com_side_rails_left,
  #eaglercraft_com_side_rails_right,
  #eaglercraft_com_sidebar_desktop_right {
    display: none !important;
  }
</style>

<script>
  // Stub googletag to block Google Ads loading
  window.googletag = window.googletag || {};
  googletag.cmd = googletag.cmd || [];

  googletag.defineSlot = function() {
    return {
      addService: function(){ return this; },
      display: function(){},
      setTargeting: function(){},
      setCategoryExclusion: function(){},
    };
  };

  googletag.defineOutOfPageSlot = function() {
    return {
      addService: function(){ return this; },
      display: function(){},
    };
  };

  googletag.pubads = function() {
    return {
      enableSingleRequest: function(){},
      disableInitialLoad: function(){},
      collapseEmptyDivs: function(){},
      addEventListener: function(){},
      setTargeting: function(){},
      refresh: function(){},
      enableSyncRendering: function(){},
    };
  };

  googletag.enableServices = function(){};
</script>
</head>
<body>

<div id="game-container">
  <!-- Your game or app will render here -->
</div>

<script src="https://eaglercraft.com/js/loader.js"></script>

<script>
  // After page load, also remove/hide dynamic ad iframes or containers
  window.addEventListener('load', () => {
    const adIds = [
      'eaglercraft_com_leaderboard_responsive_top',
      'eaglercraft_com_sticky_anchorad_responsive',
      'eaglercraft_com_side_rails_left',
      'eaglercraft_com_side_rails_right',
      'eaglercraft_com_sidebar_desktop_right'
    ];

    adIds.forEach(id => {
      const el = document.getElementById(id);
      if (el) el.style.display = 'none';
    });

    // Remove iframes that are known ad sources
    document.querySelectorAll('iframe').forEach(iframe => {
      if(iframe.src && iframe.src.includes('doubleclick.net')) {
        iframe.remove();
      }
    });
  });
</script>

</body>
</html>
